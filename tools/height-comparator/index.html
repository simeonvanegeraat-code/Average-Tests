<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactieve Height Comparator | Ben jij een reus? | HumanAverage</title>
    <meta name="description" content="Vergelijk je lengte met 100 mensen wereldwijd en ontdek in welke landen jij een reus zou zijn. Interactieve lengte-vergelijker met wereldkaart data.">
    
    <link rel="stylesheet" href="../../css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <style>
        .tool-header { text-align: center; margin: 3rem 0; }
        .height-main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: start; }
        
        /* Crowd Visualisatie */
        .crowd-container { 
            display: grid; 
            grid-template-columns: repeat(10, 1fr); 
            gap: 5px; 
            background: #f8fafc; 
            padding: 15px; 
            border-radius: 12px; 
            margin-top: 15px;
        }
        .crowd-person { font-size: 1.2rem; color: #cbd5e1; transition: color 0.3s ease; }
        .crowd-person.active { color: var(--primary); }
        .crowd-person.user { color: var(--secondary); transform: scale(1.3); }

        /* Reis Kaart Look */
        .travel-card { background: #1e293b; color: white; padding: 1.5rem; border-radius: 12px; margin-top: 2rem; }
        .travel-item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #334155; }
        .status-tag { padding: 2px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: bold; }
        .tag-giant { background: #10b981; }
        .tag-avg { background: #3b82f6; }
        .tag-small { background: #f59e0b; }

        input, select { width: 100%; padding: 14px; border: 2px solid #e2e8f0; border-radius: 10px; margin-top: 8px; }
        #result-area { display: none; animation: fadeIn 0.5s ease forwards; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @media (max-width: 850px) { .height-main-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <nav>
        <div class="container nav-content">
            <a href="../../index.html" class="logo">HUMAN<span style="color:var(--text-muted)">AVERAGE</span></a>
            <div class="nav-links">
                <a href="../../index.html">Tools</a>
                <a href="../../articles/index.html">Artikelen</a>
                <a href="../../about.html">Over ons</a>
            </div>
        </div>
    </nav>

    <main class="container">
        <div class="tool-header">
            <h1>Global Height Comparator</h1>
            <p>Vul je lengte in en zie hoe de wereld om je heen verandert.</p>
        </div>

        <div class="height-main-grid">
            <div class="card">
                <div style="margin-bottom: 1.5rem;">
                    <label>Geslacht</label>
                    <select id="gender">
                        <option value="male">Man</option>
                        <option value="female">Vrouw</option>
                    </select>
                </div>
                <div style="margin-bottom: 1.5rem;">
                    <label>Lengte (cm)</label>
                    <input type="number" id="height-input" placeholder="Bijv. 180" oninput="runLiveCompare()">
                </div>

                <div id="result-area">
                    <h3 id="crowd-text">In een kamer met 100 mensen...</h3>
                    <div class="crowd-container" id="crowd-grid"></div>
                    <p style="margin-top: 1rem; font-weight: bold;" id="stat-summary"></p>
                </div>
            </div>

            <div class="travel-card">
                <h3><i class="fa-solid fa-earth-americas"></i> Jouw Wereldreis</h3>
                <p style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 1.5rem;">Hoe word je gezien in andere landen?</p>
                
                <div id="travel-results">
                    <div class="travel-item">
                        <span>IndonesiÃ« (Gem. 158cm)</span>
                        <span id="tag-indo" class="status-tag">-</span>
                    </div>
                    <div class="travel-item">
                        <span>Verenigde Staten (Gem. 177cm)</span>
                        <span id="tag-usa" class="status-tag">-</span>
                    </div>
                    <div class="travel-item">
                        <span>Nederland (Gem. 183cm)</span>
                        <span id="tag-nl" class="status-tag">-</span>
                    </div>
                    <div class="travel-item">
                        <span>Bolivia (Gem. 160cm)</span>
                        <span id="tag-bol" class="status-tag">-</span>
                    </div>
                </div>
                <p style="font-size: 0.75rem; margin-top: 1.5rem; opacity: 0.6;">Data gebaseerd op gemiddelde lengtes per land (NCD-RisC 2024).</p>
            </div>
        </div>
    </main>

    <script>
        function runLiveCompare() {
            const h = parseFloat(document.getElementById('height-input').value);
            const gender = document.getElementById('gender').value;
            if (!h || h < 50) return;

            document.getElementById('result-area').style.display = 'block';

            // 1. CROWD LOGIC
            const avg = gender === 'male' ? 171 : 159;
            const points = gender === 'male' ? [[155, 1], [163, 10], [171, 50], [179, 90], [188, 99]] : [[145, 1], [152, 10], [159, 50], [166, 90], [174, 99]];
            
            let percentile = 0;
            if (h <= points[0][0]) percentile = 1;
            else if (h >= points[points.length-1][0]) percentile = 99;
            else {
                for (let i = 0; i < points.length - 1; i++) {
                    if (h >= points[i][0] && h <= points[i+1][0]) {
                        percentile = points[i][1] + (points[i+1][1] - points[i][1]) * (h - points[i][0]) / (points[i+1][0] - points[i][0]);
                        break;
                    }
                }
            }

            const pCount = Math.round(percentile);
            const grid = document.getElementById('crowd-grid');
            grid.innerHTML = '';
            for(let i=0; i<100; i++) {
                const icon = document.createElement('i');
                icon.className = 'fa-solid fa-user crowd-person';
                if (i < pCount) icon.classList.add('active');
                if (i === pCount) icon.classList.add('user');
                grid.appendChild(icon);
            }
            document.getElementById('stat-summary').innerText = `Jij bent langer dan ${pCount} van de 100 mensen.`;

            // 2. TRAVEL LOGIC
            updateTag('tag-indo', h, 158);
            updateTag('tag-usa', h, 177);
            updateTag('tag-nl', h, 183);
            updateTag('tag-bol', h, 160);
        }

        function updateTag(id, userH, countryAvg) {
            const el = document.getElementById(id);
            const diff = userH - countryAvg;
            if (diff > 10) {
                el.innerText = 'REUS';
                el.className = 'status-tag tag-giant';
            } else if (diff < -5) {
                el.innerText = 'KLEIN';
                el.className = 'status-tag tag-small';
            } else {
                el.innerText = 'GEMIDDELD';
                el.className = 'status-tag tag-avg';
            }
        }
    </script>
</body>
</html>